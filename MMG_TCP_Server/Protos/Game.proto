syntax = "proto3";

package Packet;

message C_SelectedCharacter{
	CharacterInfo characterInfo = 1;
}
message S_SelectedCharacter{
	bool result = 1;
}
message CharacterInfo{
	int32 Id = 1;
	int32 UserId = 2;
	int32 Gender = 3;
	string CharacterName =4;
	ClassType Class =5;
	string AppearanceCode = 6;
}
message C_EnterGameRequest{
	int32 CharacterId = 1;
	int32 MapId = 2;
}

message S_EnterGameResponse {
	int32 MapId = 1;
  repeated CharacterList characterList = 2;
}

message CharacterList {
  bool IsLocal = 1; // true: 본인, false: 다른 유저
  CharacterInfo characterInfo = 2;
  float PosX = 3;
  float PosY = 4;
  float PosZ = 5;
  float DirY = 6;
}


message PlayerInfo {
  int32 playerId = 1;
  string name = 2;
  float posX = 3;
  float posY = 4;
}


message C_BroadcastMove
{
  float posX = 1;
  float posY = 2;
  float posZ = 3;

  float dirY = 4;

  float speed = 5;
  int64 timestamp = 6;
}

message S_BroadcastMove
{ 
	int32 playerId = 1;
	int32 CharacterId = 2;

  float posX = 3;
  float posY = 4;
  float posZ = 5;

  float dirY = 6;

  float speed =7;

  int64 timestamp = 8;
}
message MonsterMoveData{
	int32 MonsterId = 1;
	MoveData MoveData = 2;
}
message MoveData
{
	float posX = 1;
  float posY = 2;
  float posZ = 3;
  float dirY = 4;
  float speed =5;
  int64 timestamp = 6;

}

message S_BroadcastEnter{
	CharacterList enterCharacter = 1;
}

enum ClassType
{
	NoHave = 0;

	Knight = 1;

	Archer = 2;

	Mage = 3;
}
